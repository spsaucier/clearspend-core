package com.clearspend.capital.data.model.enums;

import com.clearspend.capital.common.error.InvalidRequestException;
import java.util.Arrays;
import java.util.Optional;

public enum NetworkMessageTransactionResponseCode {
  // TODO(kuchlein) decide which are important and give them proper names (this may be all of them)
  _00("00", "Approved or Completed Successfully"),
  _01("01", "Refer to Card Issuer"),
  _02("02", "Refer To Card Issuer's Special Conditions"),
  _03("03", "Invalid Merchant"),
  _04("04", "Pick-Upl"),
  _05("05", "DO Not Honor"),
  _06("06", "Error"),
  _07("07", "Pick-up Card, Special Condition"),
  _08("08", "Honor With Identification"),
  _09("09", "Request In Progress"),
  _0Z("0Z", "Reserved For ISO Use - 0Z"),
  _10("10", "Approved For Partial Amount"),
  _11("11", "Approved (VIP)"),
  _12("12", "Invalid Transaction"),
  _13("13", "Invalid Amount"),
  _14("14", "Invalid Card Number (No Such Number)"),
  _15("15", "No Such Issuer"),
  _16("16", "Approved, Update Track 3"),
  _17("17", "Customer Cancellation, Reversal (unsupported)"),
  _18("1", "Customer Dispute, Chargeback (Future)"),
  _19("19", "Re-Enter Transaction"),
  _1Z("1Z", "Reserved For ISO Use - 1Z"),
  _20("20", "Invalid Response"),
  _21("21", "No Action Taken,Reversal (Unsupported)"),
  _22("22", "Suspected Malfunction"),
  _23("23", "Unacceptable Transaction Fee"),
  _24("24", "File Update Not Supported By Receiver (Only In 03xx)"),
  _25("25", "Unable to Locate Record On File (Only In 03xx)"),
  _26("2", "Duplicate File Update Record, No Action (Only Iin 03xx)"),
  _27("27", "File Update Field Edit Error (Only In 03xx)"),
  _28("28", "File Update Record Locked Out (only in 03xx)"),
  _29("29", "File Update Not Successful, Contact Acquirer (Only in 03xx)"),
  _2Z("2Z", "Reserved For ISO Use - 2Z"),
  _30("30", "Format Error"),
  _31("31", "Bank Not Supported By Switch"),
  _32("32", "Completed Partially"),
  _33("33", "Expired Card, Pick up"),
  _34("34", "Suspected Fraud Pick-up"),
  _35("35", "Card Acceptor Contact Acquirer, Pick-Up"),
  _36("36", "Restricted Card, Pick-up"),
  _37("37", "Card Acceptor Call Acquirer Security, Pick-up"),
  _38("38", "Allowable PIN Tries Exceeded"),
  _39("39", "No Credit Account"),
  _3Z("3Z", "Reserved For ISO Use - 3Z"),
  _40("40", "Requested Function Not Supported"),
  _41("41", "Lost Card"),
  _42("42", "No Universal Account"),
  _43("43", "Stolen Card, Pick-Up"),
  _44("44", "No Investment Account"),
  _45("45", "Reserved For ISO Use - 45"),
  _46("46", "Reserved For ISO Use - 46"),
  _47("47", "Reserved For ISO Use - 47"),
  _48("48", "Reserved For ISO Use - 48"),
  _49("49", "Reserved For ISO Use"),
  _4Z("4Z", "Reserved For ISO Use - 4Z"),
  _50("50", "Reserved For ISO Use - 50"),
  _51("51", "Not Sufficient Funds"),
  _52("52", "No Checking Account"),
  _53("53", "No Savings Account"),
  _54("54", "Expired Card (Contact Bank)"),
  _55("55", "Incorrect PIN"),
  _56("56", "No Card Record"),
  _57("57", "Transaction Not Permitted To Cardholder"),
  _58("58", "Transaction Not Permitted"),
  _59("59", "Suspected Fraud"),
  _5Z("5Z", "Reserved For ISO Use - 5Z"),
  _60("60", "Card acceptor Contact Acquirer"),
  _61("61", "Exceeds Amount / Frequency Limit(s)"),
  _62("62", "Restricted Card"),
  _63("63", "Security Violation (Bad Card Sensitive Data)"),
  _64("64", "Original Amount Incorrect, Reversal (Unsupported)"),
  _65("65", "Exceeds Withdrawal Frequency Limit"),
  _66("66", "Card Acceptor Call Acquirer Security"),
  _67("67", "Hard Capture (Pick-Up)"),
  _68("68", "Response Received Too Late, Reversal (Unsupported)"),
  _69("69", "Reserve For Future Use"),
  _6Z("6Z", "Reserved For ISO Use - 6Z"),
  _70("70", "Reserved For Future Use - 70"),
  _71("71", "Reserved For Future Use - 71"),
  _72("72", "Reserved For Future Use - 72"),
  _73("73", "Reserved For Future Use - 73"),
  _74("74", "Reserved For Future Use - 74"),
  _75("75", "Allowable Number Of PIN Tries Exceeded"),
  _76("7", "Key Synchronization Error (eFunds Corporation)"),
  _77("77", "Reserved For Private Use - 77"),
  _78("7", "Customer Not Eligible For POS (StarSM)"),
  _79("79", "Invalid Digital Signature"),
  _7Z("7Z", "Reserved For ISO Use - 7Z"),
  _80("8", "Stale Dated Transaction (StarSM)"),
  _81("81", "Invalid Transaction (PIN Block Format Error)"),
  _82("8", "Bad CVC1/iCVV/Expiry Date"),
  _83("83", "Reserved For Private Use - 83"),
  _84("8", "Time Limit For Pre-Authorization Reached (VISANet)"),
  _85("8", "Not Decline (Valid only AVS Only or ecommerce certification requests)"),
  _86("86", "PIN Validation Not Possible or Invalid PVK/ZPK/Offset/PVV"),
  _87("87", "Check Already Posted"),
  _88("8", "Invalid Transaction (CVC1/CVV2/CID/iCVV Format Error)"),
  _89("8", "Bad CVC1/iCVV/Expiry Date"),
  _8Z("8Z", "Reserved For ISO Use - 8Z"),
  _90("90", "Cutoff In Progress"),
  _91("91", "Issuer Or Switch Inoperative"),
  _92("92", "Financial Institution Or Intermediate Network Unknown For Routing"),
  _93("93", "Transaction Cannot Be Completed Due To A Violation Of The Law"),
  _94("94", "Duplicate Transmission"),
  _95("95", "Reconcile Error"),
  _96("96", "Communication Error"),
  _97("97", "Already Activated Card"),
  _98("98", "Reserved For National Use - 98"),
  _99("99", "Reserved For National Use - 99"),
  _9Z("9Z", "Reserved For ISO Use - 9Z"),
  _A1("A1", "Already Subscribed"),
  _AD("AD", "Activation Denied due to Imminent Card Expiry"),
  _AG("AG", "Age limit violated"),
  _AL("AL", "Card is Already Linked"),
  _AM("AM", "Incomplete sender address"),
  _AN("AN", "Invalid Alert"),
  _AO("AO", "Authorization Revoked by Customer(adjustment entries)"),
  _AP("AP", "The payment is already made against this MTCN"),
  _AR("AR", "Unable to assign/reassign card"),
  _AS("AS", "Unable to add stakeholder record"),
  _AV("AV", "AVS failed"),
  _B1("B1", "Recurring transfers allowed after specified single transfer count"),
  _B2("B2", "Recurring transfers allowed after specified single transfer amount"),
  _B3("B3", "Only specified number of bank transfers allowed on new card"),
  _B4("B4", "Only specified amount is allowed to a new card for bank transfers"),
  _B5("B5", "Maximum allowed loads (from bank) exhausted"),
  _B6("B6", "Maximum allowed load (from bank) amount already loaded"),
  _B7("B7", "Account definition requires specific number of direct deposits"),
  _B8("B8", "Account definition requires specific amount in direct deposits"),
  _B9("B9", "Missing Country of Birth"),
  _BC("BC", "Bad CIP - Retry limit exceeded"),
  _BD("BD", "New bank account definition can only be deleted after specified days"),
  _BF("BF", "Brand not matched"),
  _BI("B", "Invvalid Bank Information Supplied"),
  _BN("BN", "Bank Account is blocked due to Notification of Change (NOC)"),
  _BR("BR", "Bank Account is blocked due to Returned ACH request"),
  _BU("BU", "Bank account registration failed for unregistered card"),
  _C1("C1", "Card is not attached to this payment"),
  _CA("CA", "Customer advises not authorized"),
  _CB("CB", "Card balance exceeds limit"),
  _CC("CC", "Cards limit exceeded with provided Customer ID"),
  _CD("CD", "Invalid Card Design"),
  _CE("CE", "Error communicating with external API"),
  _CF("CF", "Configurations are invalid"),
  _CI("CI", "Customer ID invalid"),
  _CL("CL", "Invalid Card Logo"),
  _CM("CM", "Sender Country Code missing"),
  _CN("CN", "The card type is not accepted"),
  _CP("CP", "Card type not supported against fulfillment house"),
  _CR("CR", "Card is Redeemed"),
  _CT("CT", "Card Track already generated"),
  _CY("CY", "Card type not supported"),
  _DA("DA", "Aggregate sum of loads within last 24 hours exceeds limit"),
  _DC("DC", "Duplicate card number"),
  _DD("DD", "Data definition issue"),
  _DE("DE", "Duplicate Record found against SSN/DL/Foreign Ids"),
  _DG("DG", "Direct Deposit Account Info not found"),
  _DL("DL", "Invalid Driving License"),
  _DM("DM", "Mandatory Data Missing for Authentication"),
  _DN("DN", "Duplicate Record found against Name and DOB"),
  _DO("DO", "Invalid Date of Birth"),
  _DR("DR", "Duplicate card reference id"),
  _DS("DS", "Unable to delete stakeholder record"),
  _E1("E1", "Account number invalid"),
  _E2("E2", "Verification error (Check Digit)"),
  _E3("E3", "Verification error (CID FORMAT)"),
  _E4("E4", "Error(96) see MRC response"),
  _E5("E5", "Cash back service not available"),
  _E6("E6", "Invalid expiration date - E6"),
  _E7("E7", "Bad CVV2/CID/Expiry Date"),
  _E8("E8", "Re-Submit"),
  _E9("E9", "Invalid acquirer"),
  _EA("EA", "Acquirer user ID or password is not correct"),
  _EB("EB", "Wrong account access code"),
  _EC("EC", "Wrong account number specified for the card"),
  _ED("ED", "Reversal failure"),
  _EE("EE", "Reverse charge action failed"),
  _EF("EF", "Invalid ACH account number"),
  _EG("EG", "Successful ACH verification"),
  _EH("EH", "Unsuccessful ACH verification"),
  _EI("EI", "Failed to withdraw amount from card or bank account"),
  _EJ("EJ", "Failed to load amount to card or bank account"),
  _EM("EM", "Missing Name of Employer/Business or Occupation"),
  _EO("EO", "Client System Malfunction"),
  _ER("ER", "Error ? see MRC response"),
  _F1("F1", "Partial matched for provided Ch address"),
  _F2("F2", "Not matched for provided Ch address"),
  _FB("FB", "Card is Fraud-Blocked"),
  _FD("FD", "Allowed credit card loads exceeded"),
  _FI("FI", "Fixed Initial Value Card, No Load Amount Required"),
  _FM("FM", "Sender First and/or Last Name missing"),
  _FN("F", "Foreign id didnt Match"),
  _FS("FS", "Missing Source of Funds"),
  _GA("GA", "Unsupported Character Found/General AVS Decline"),
  _GC("GC", "General Card Decline"),
  _GV("GV", "General CVV2 Decline"),
  _HE("HE", "Problem with HSM Communication"),
  _HM("HM", "Sender Home Phone missing"),
  _I2("I2", "Second ID Information is Missing"),
  _IA("IA", "Inactive Acquirer"),
  _IB("IB", "Invalid Card BIN/Invalid Reference ID"),
  _IC("IC", "Invalid Card Program"),
  _ID("ID", "Instance is not allowed to acquirer"),
  _IF("IF", "Invalid Characters in Field"),
  _IG("I", "Invalid/Duplicate GoldCard Number"),
  _IL("IL", "Invalid Card to Card Transfer Parameter Limit"),
  _IM("IM", "Invalid Member Number"),
  _IP("IP", "Invalid Payee"),
  _IR("IR", "Invalid Card Range"),
  _IU("IU", "Invalid User name "),
  _IV("IV", "Invalid Verification Code"),
  _IY("IY", "Invalid Card Type "),
  _JN("JN", "Jurisdiction Not Found"),
  _KB("KB", "KBA Session Pending"),
  _KF("KF", "KBA Session Failed"),
  _KM("KM", "KBA Session Limit Exceeded"),
  _KR("KR", "KBA Session Failed, Retry Again"),
  _LD("LD", "Card Linking Denied"),
  _LM("LM", "Money is logged successfully"),
  _LN("LN", "Please call the credit card issuer call center"),
  _LS("LS", "Cannot link card due to supplementary card"),
  _LT("L", "Transaction not allowed without login"),
  _LV("LV", "Limit Parameter Violation"),
  _M1("M1", "Already Active"),
  _MA("MA", "Aggregate sum of loads within last 30 days exceeds limit"),
  _MB("MB", "Maximum allowed bank accounts limit exceeded"),
  _MC("MC", "Number of loads within last 30 days exceeds limit"),
  _ME("ME", "Sender email address missing"),
  _MF("MF", "Member ID not Found/Available"),
  _ML("ML", "Maximum allowed linked card limit exceeded"),
  _MM("MM", "Sender mobile phone missing"),
  _MN("MN", "Mobile Number Not Found Against Card"),
  _MS("MS", "Maximum allowed supplementary cards limit exceeds"),
  _MT("MT", "MTCN Missing"),
  _MY("MY", "Missing nationality"),
  _N0("N0", "Unable To Authorize"),
  _N1("N1", "Authorization Life Cycle Expired"),
  _N2("N2", "Non-Receipt Of Requested Item (Future)"),
  _N3("N", "Non-Receipt Of Rrequested Item, Illegible Copy (Future)"),
  _N4("N4", "Transaction Exceeds Floor Limit (Future)"),
  _N5("N5", "Declined Authorization"),
  _N6("N6", "Non-Matching Account Numbers (Future)"),
  _N7("N7", "Error In Addition (Future)"),
  _N8("N8", "Altered Amount (Future)"),
  _N9("N9", "Incorrect Account Number (Future)"),
  _NA("NA", "Payment Processor not available"),
  _NB("NB", "Invalid Brand"),
  _NC("NC", "Configurations not found"),
  _ND("ND", "No data found against given information"),
  _NP("N", "Invalid Ip found"),
  _NR("NR", "Non-participating RDFI"),
  _NS("NS", "Invalid SSN (Social Security Number)"),
  _NT("NT", "Non-Transaction Account"),
  _NV("NV", "No VAS Account found in system"),
  _OD("O", "Returned per ODFI's request"),
  _OF("OF", "OFAC failed"),
  _P0("P0", "Missing Signature (Future)"),
  _P1("P1", "Slip Without Card Imprint (Future)"),
  _P2("P2", "Imprinting Of Multiple Slips (Future)"),
  _P3("P", "Canceled Pre-Authorization Transaction (Future)"),
  _P4("P4", "Delinquent Settlement (Future)"),
  _P5("P5", "Currency Conversion Error (Future)"),
  _P6("P6", "Credit Posted As A Debit (Sale) (Future)"),
  _P7("P7", "Claim Or Defense (Future)"),
  _P8("P8", "Non-Receipt Of Goods (Future)"),
  _P9("P9", "Defective Merchandise (Future)"),
  _PA("PA", "Card activation is required to register, go back and choose activate"),
  _PC("PC", "Invalid Cell Number (Cell Phone Verification Failed)"),
  _PH("PH", "Invalid Phone Number"),
  _PL("PL", "Bad PIN (Invalid PIN Block Length)"),
  _PP("PP", "PPK not defined"),
  _PR("P", "Card is pre-active, registered/personalized"),
  _PS("PS", "Payment Stopped"),
  _PT("PT", "Phone number not exist"),
  _PV("PV", "PVK index not defined"),
  _PW("PW", "Password not matched"),
  _Q0("Q0", "Invalid date"),
  _Q1("Q1", "Invalid expiration date"),
  _R0("R0", "Fraudulent Transaction Prior To Embossed Valid Date (Future)"),
  _R1("R1", "Credit Not Received (Future)"),
  _R2("R2", "Allowable PAN Entries Warning -- Approved"),
  _RA("RA", "Card is already registered"),
  _RI("RI", "Invalid Bank Routing Number"),
  _RN("RN", "Card is not registered or personalized"),
  _RP("RP", "Product not attached with the Program"),
  _RQ("RQ", "Mandatory field required"),
  _RS("RS", "Already Reversed"),
  _S0("S0", "Check Not Acceptable For Cash"),
  _S1("S1", "Check Not Acceptable"),
  _S2("S2", "Check Deposit Limit Exceeded"),
  _S3("S3", "Cash Back Limit Exceeded"),
  _S4("S4", "Check Amount Does Not Match Courtesy Amount"),
  _S5("S5", "PIN Not Selected"),
  _S6("S6", "PIN Already Selected"),
  _S7("S7", "Unmatched Voucher Information"),
  _S8("S8", "Allowable PAN Entries Exceeded -Denial"),
  _S9("S9", "Expiration Date Match"),
  _SA("SA", "Inactive Card"),
  _SB("SB", "Expiration Date Mismatch (Card Pickup)"),
  _SC("SC", "Item Suspected For Stop Pay"),
  _SD("SD", "Account Closed"),
  _SE("SE", "Ineligible Account"),
  _SF("SF", "Item Submitted More Than Two Times"),
  _SG("SG", "No Account On File - Absolute"),
  _SH("SH", "Unable To Locate"),
  _SI("SI", "General Denial"),
  _SJ("SJ", "Item Settled Via ACH"),
  _SK("SK", "Cross-Reference Card Not Found"),
  _SL("SL", "Category Limit Exceeded"),
  _SM("SM", "Transaction Limit Exceeded"),
  _SN("SN", "Daily Limit Exceeded"),
  _SO("SO", "Monthly Limit Exceeded"),
  _SP("SP", "Invalid Secret Code"),
  _SQ("SQ", "PIN Key Sync Error"),
  _SR("SR", "Bad CVV2"),
  _SS("SS", "Stakeholder does not exist in sales chain or invalid sales node number"),
  _ST("ST", "No service exist "),
  _T4("T4", "Exceeds maximum load amount per day week"),
  _T7("T7", "Destination is not found"),
  _T8("T8", "Account Number is Either not registered or not Found"),
  _TD("TD", "Transaction Declined"),
  _TI("TI", "The Transaction ID is invalid"),
  _U1("U1", "Next Day Money Transfer, expected to be available later"),
  _U5("U5", "Transaction not allowed in cardholder state"),
  _UC("UC", "Card Can Not Be Unlinked"),
  _UF("U", "UnCollected Funds"),
  _UL("UL", "User is locked"),
  _UN("UN", "User does not exist for the provided Card Number "),
  _UR("U", "Unable to unassign"),
  _US("US", "Unable to update stakeholder record"),
  _VE("VE", "Verification Code Expired"),
  _VP("VP", "Invalid Fulfillment House"),
  _ZI("ZI", "ZCMK index not defined"),
  ;

  private final String i2cTransactionResponseCode;
  private String description;

  public String getI2cTransactionResponseCode() {
    return i2cTransactionResponseCode;
  }

  NetworkMessageTransactionResponseCode(String i2cTransactionResponseCode, String description) {
    this.i2cTransactionResponseCode = i2cTransactionResponseCode;
    this.description = description;
  }

  // TODO(kuchlein): make more efficient
  public static NetworkMessageTransactionResponseCode fromI2cTransactionResponseCode(
      String i2cTransactionResponseCode) {
    Optional<NetworkMessageTransactionResponseCode> deviceTypeOptional =
        Arrays.stream(NetworkMessageTransactionResponseCode.values())
            .filter(
                deviceType -> deviceType.i2cTransactionResponseCode == i2cTransactionResponseCode)
            .findFirst();
    if (deviceTypeOptional.isEmpty()) {
      throw new InvalidRequestException("invalid i2c device type " + i2cTransactionResponseCode);
    }

    return deviceTypeOptional.get();
  }
}
